<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TG AUTH</title>
</head>
<body>
<script async src="https://telegram.org/js/telegram-widget.js?7"
        data-telegram-login="rentalguru_ru_bot"
        data-size="large"
        data-onauth="onTelegramAuth(user)"
        data-request-access="write"></script>
<script>
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + ')');
    // Здесь вы можете отправить данные на ваш backend
    fetch('/api/telegram/login/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({telegram_id: user.id}),
    })
    .then(response => response.json())
    .then(data => console.log(data));
  }
</script>
</body>
</html>