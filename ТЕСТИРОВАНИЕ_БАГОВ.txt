================================================================================
          ะะะะะะฏ ะะะะฃะะะะขะะฆะะฏ ะะ ะขะะกะขะะะะะะะะฎ ะะกะะะะะะะะะซะฅ ะะะะะ
================================================================================

ะัะพะตะบั: RentalGuru Backend
ะะฐัะฐ: 04.11.2025
Swagger UI: https://rentalguru.ru/
ะะตััะธั: v1.2.0

================================================================================
                              ะะะะะะะะะะ
================================================================================

1. ะขะตััะพะฒัะต ะดะฐะฝะฝัะต
2. ะกัะฐััั ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐั
3. ะะฐะณ #1: ะะพะด ะฝะต ะฟัะธัะพะดะธั ะฝะฐ ะฟะพััั
4. ะะฐะณ #14: ะัะพะฝะธัะพะฒะฐะฝะธะต ะฑะตะท ะพะฟะปะฐัั ะฟะพะฟะฐะดะฐะตั ะฒ "ะขะตะบััะธะต"
5. ะะฐะณ #13: ะะปะธะตะฝั ะฝะต ะผะพะถะตั ะทะฐะฒะตััะธัั/ะพัะผะตะฝะธัั ะฟะพะตะทะดะบั (ะะะะะะะะะ)
6. ะะฐะณ #2: ะกัะฐััั canceled ะผะตะฝัะตััั ะฝะฐ current
7. ะะฐะณ #3: ะกัะตััะธะบ ะฝะตะฟัะพัะธัะฐะฝะฝัั ะฑะตะท ัะพะพะฑัะตะฝะธั
8. ะะฐะณ #8: ะะต ะพัะพะฑัะฐะถะฐัััั ัะฒะตะดะพะผะปะตะฝะธั ะพ ัะพะพะฑัะตะฝะธะธ
9. ะะฐะณ #11: ะะพัะปัะธ ััะฐะฝัะฐะนะทะธ ะพัะธะฑะบะฐ
10. ะฃะดะฐะปะตะฝะฝัะน ััะฝะบัะธะพะฝะฐะป
11. ะัะพะณะพะฒะฐั ัะฐะฑะปะธัะฐ ะฑะฐะณะพะฒ
12. ะงะตะบะปะธัั ะดะปั ัะตััะธัะพะฒัะธะบะฐ

================================================================================
                            ะขะะกะขะะะซะ ะะะะะซะ
================================================================================

ะฃะงะะขะะซะ ะะะะะกะ:

โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพะปั               โ Email                         โ ะะฐัะพะปั   โ ID โ ะะฟะธัะฐะฝะธะต             โ
โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโผโโโโโผโโโโโโโโโโโโโโโโโโโโโโโค
โ ะัะตะฝะดะฐัะพั          โ mariavoronuk122@gmail.com     โ 12345678 โ 22 โ ะะปั ัะตััะพะฒ ะฐัะตะฝะดั    โ
โ ะะดะผะธะฝ + ะัะตะฝะดะพะดะฐั. โ admin@admin.com               โ admin123 โ 23 โ ะะปั ะพะดะพะฑัะตะฝะธั ะทะฐัะฒะพะบ โ
โโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโดโโโโโดโโโโโโโโโโโโโโโโโโโโโโโ

ะขะะกะขะะะซะ ะะะชะะะขะซ:

- Vehicle ID: 1 
- ะะพััะฐ ะดะปั ัะตััะพะฒ: mvoronuk2@gmail.com

ะะะะฃะงะะะะ ะขะะะะะ ะะะขะะะะะะฆะะ:

POST /app/token/

Body:
{
  "email": "mariavoronuk122@gmail.com",
  "password": "12345678"
}

ะัะฒะตั:
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}

ะะะขะะะะะะฆะะฏ ะ SWAGGER:
- ะะฐะถะผะธัะต ะบะฝะพะฟะบั "Authorize" ะฒ Swagger UI
- ะะฒะตะดะธัะต: Bearer <access_token>
- ะะฐะถะผะธัะต "Authorize"

================================================================================
                      ะกะขะะขะฃะก ะะซะะะะะะะะฏ ะะะะะง
================================================================================

โโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
โ โ  โ ะะฐะณ                                        โ ะกัะฐััั         โ ะัะธัะธัะฝะพััั  โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโค
โ 1  โ ะะพะด ะฝะต ะฟัะธัะพะดะธั ะฝะฐ ะฟะพััั                   โ โ ะะกะะะะะะะ    โ ๐ด ะััะพะบะฐั   โ
โ 14 โ ะัะพะฝะธัะพะฒะฐะฝะธะต ะฑะตะท ะพะฟะปะฐัั ะฒ "ะขะตะบััะธะต"        โ โ ะะกะะะะะะะ    โ ๐ด ะััะพะบะฐั   โ
โ 13 โ ะะปะธะตะฝั ะฝะต ะผะพะถะตั ะพัะผะตะฝะธัั ะฟะพะตะทะดะบั           โ โ ะงะะกะขะะงะะ*    โ ๐ ะกัะตะดะฝัั   โ
โ 2  โ ะกัะฐััั canceledโcurrent                    โ โ ะะ ะะะ       โ ๐ข ะัะพะฒะตัะตะฝะพ โ
โ 3  โ ะกัะตััะธะบ ะฑะตะท ัะพะพะฑัะตะฝะธั                      โ โ ะะกะะะะะะะ    โ ๐ ะกัะตะดะฝัั   โ
โ 8  โ ะะต ะพัะพะฑัะฐะถะฐัััั ัะฒะตะดะพะผะปะตะฝะธั ะพ ัะพะพะฑัะตะฝะธะธ    โ โ ะะกะะะะะะะ    โ ๐ ะกัะตะดะฝัั   โ
โ 11 โ ะะพัะปัะธ ััะฐะฝัะฐะนะทะธ ะพัะธะฑะบะฐ                    โ โ ะะกะะะะะะะ    โ ๐ก ะะธะทะบะฐั    โ
โโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโ

* ะะฐะณ #13: ะัะผะตะฝะฐ ัะฐะฑะพัะฐะตั โ, finish-by-client ะฃะะะะะ (ะฟะพ ััะตะฑะพะฒะฐะฝะธั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ)

================================================================================
              ะะะ #1: ะะะ ะะ ะะะะฅะะะะข ะะ ะะะงะขะฃ
================================================================================

ะะะะกะะะะ:
ะัะธ ัะตะณะธัััะฐัะธะธ, ะฒะพัััะฐะฝะพะฒะปะตะฝะธะธ ะฟะฐัะพะปั ะธะปะธ ะฟะพะดัะฒะตัะถะดะตะฝะธะธ email ะบะพะดั ะฝะต 
ะฟัะธัะพะดะธะปะธ ะฝะฐ ะฟะพััั. ะกะตัะฒะตั ะฒะพะทะฒัะฐัะฐะป ััะฟะตัะฝัะน ะพัะฒะตั, ะฝะพ ะฟะธััะผะพ ะฝะต ะพัะฟัะฐะฒะปัะปะพัั.

ะะะะงะะะ:
Celery worker ะฟะฐะดะฐะป ะธะท-ะทะฐ ะพััััััะฒะธั ะดะธัะตะบัะพัะธะธ /app/logs/.

ะะกะะะะะะะะะ:
- ะคะฐะนะป: entrypoint.sh
- ะะพะฑะฐะฒะปะตะฝะพ: mkdir -p /app/logs
- ะะตัะตะทะฐะฟััะตะฝ Celery worker

ะกะขะะขะฃะก: โ ะะกะะะะะะะ
ะะะะขะะงะะะกะขะฌ: ๐ด ะะซะกะะะะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 1.1: ะะตะณะธัััะฐัะธั ะฝะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
--------------------------------------------------------------------------------

ะจะฐะณ 1: ะัะบัััั Swagger UI: https://rentalguru.ru/

ะจะฐะณ 2: ะะฐะนัะธ ัะฝะดะฟะพะธะฝั POST /app/users/

ะจะฐะณ 3: ะะฐะถะฐัั "Try it out"

ะจะฐะณ 4: ะััะฐะฒะธัั JSON:

{
  "email": "test_user_001@gmail.com",
  "first_name": "ะขะตัั",
  "last_name": "ะะพะปัะทะพะฒะฐัะตะปั",
  "date_of_birth": "1995-05-15",
  "member_type": "renter",
  "platform": "web"
}

ะจะฐะณ 5: ะะฐะถะฐัั "Execute"

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- ะกัะฐััั: 200 OK
- Response body:
  {
    "message": "ะะพะด ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพัะฟัะฐะฒะปะตะฝ ะฝะฐ ะฒะฐัั ะฟะพััั."
  }
- โ ะะ ะะะงะขะฃ test_user_001@gmail.com ะะะะฅะะะะข ะะะกะฌะะ ั 4-ะทะฝะฐัะฝัะผ ะบะพะดะพะผ

ะัะตะผั ะดะพััะฐะฒะบะธ: ะดะพ 1 ะผะธะฝััั

ะะะะะะะะ:
1. ะัะบัััั ะฟะพััั test_user_001@gmail.com
2. ะะฐะนัะธ ะฟะธััะผะพ ั ัะตะผะพะน "ะะพะด ะฟะพะดัะฒะตัะถะดะตะฝะธั"
3. ะ ะฟะธััะผะต ะดะพะปะถะตะฝ ะฑััั ะบะพะด ะฒะธะดะฐ: 1234

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 1.2: ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะฟะฐัะพะปั
--------------------------------------------------------------------------------

ะจะฐะณ 1: ะะฐะนัะธ ัะฝะดะฟะพะธะฝั POST /app/password-reset/

ะจะฐะณ 2: ะะฐะถะฐัั "Try it out"

ะจะฐะณ 3: ะััะฐะฒะธัั JSON:

{
  "email": "mvoronuk2@gmail.com"
}

ะจะฐะณ 4: ะะฐะถะฐัั "Execute"

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- ะกัะฐััั: 200 OK
- Response body:
  {
    "message": "ะะพะด ะดะปั ัะฑัะพัะฐ ะฟะฐัะพะปั ะพัะฟัะฐะฒะปะตะฝ ะฝะฐ ะฒะฐัั ะฟะพััั."
  }
- โ ะะ ะะะงะขะฃ mvoronuk2@gmail.com ะะะะฅะะะะข ะะะกะฌะะ ั ะบะพะดะพะผ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 1.3: ะะพะดัะฒะตัะถะดะตะฝะธะต email (ะดะปั Telegram ะฟะพะปัะทะพะฒะฐัะตะปะตะน)
--------------------------------------------------------------------------------

ะะะะะฃะกะะะะะ: ะะฒัะพัะธะทะพะฒะฐัััั ะบะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั

ะจะฐะณ 1: ะะพะปััะธัั ัะพะบะตะฝ
- ะญะฝะดะฟะพะธะฝั: POST /app/token/

{
  "email": "mariavoronuk122@gmail.com",
  "password": "12345678"
}

- ะกะพััะฐะฝะธัั access ัะพะบะตะฝ

ะจะฐะณ 2: ะะฒัะพัะธะทะพะฒะฐัััั ะฒ Swagger
- ะะฐะถะฐัั ะบะฝะพะฟะบั "Authorize" (ัะฟัะฐะฒะฐ ะฒะฒะตััั)
- ะะฒะตััะธ: Bearer <ะฒะฐั_access_token>
- ะะฐะถะฐัั "Authorize" ะธ "Close"

ะจะฐะณ 3: ะัะฟัะฐะฒะธัั ะบะพะด ะฝะฐ email
- ะญะฝะดะฟะพะธะฝั: POST /app/telegram_send_code/
- Request body: {} (ะฟัััะพะน)
- ะะฐะถะฐัั "Execute"

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- ะกัะฐััั: 200 OK
- Response:
  {
    "message": "ะะพะด ะดะปั ะฟะพะดัะฒะตัะถะดะตะฝะธั ะฟะพััั ะพัะฟัะฐะฒะปะตะฝ ะฝะฐ ะฒะฐัั ะฟะพััั."
  }
- โ ะะ ะะะงะขะฃ mariavoronuk122@gmail.com ะะะะฅะะะะข ะะะกะฌะะ

ะะะะขะะะะ ะะะะะะะ:
โ ะะธััะผะพ ะฝะต ะฟัะธัะปะพ ะฒ ัะตัะตะฝะธะต 2 ะผะธะฝัั
โ ะะธััะผะพ ะฒ ัะฟะฐะผะต (ะดะพะปะถะฝะพ ะฑััั ะฒ ะพัะฝะพะฒะฝะพะน ะฟะฐะฟะบะต)
โ ะะพะด ะฒ ะฟะธััะผะต ะฝะต 4-ะทะฝะฐัะฝัะน


================================================================================
      ะะะ #14: ะะะะะะะะะะะะ ะะะ ะะะะะขะซ ะะะะะะะะข ะ "ะขะะะฃะฉะะ"
================================================================================

ะะะะกะะะะ:
ะะพะตะทะดะบะธ ัะพะทะดะฐะฒะฐะปะธัั ะฒ ััะฐัััะต "current" ััะฐะทั ะฟะพัะปะต ะพะดะพะฑัะตะฝะธั ะทะฐัะฒะบะธ, 
ะดะฐะถะต ะตัะปะธ ะฟะปะฐัะตะถ ะฝะต ะฑัะป ัะพะฒะตััะตะฝ (status='pending').

ะะะะงะะะ:
ะััััััะฒะพะฒะฐะปะฐ ะฟัะพะฒะตัะบะฐ ััะฟะตัะฝะพะน ะพะฟะปะฐัั ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ Trip.

ะะกะะะะะะะะะ:
- ะคะฐะนะป: chat/signals.py (ัััะพะบะธ 31-55)
- ะะพะฑะฐะฒะปะตะฝะฐ ะฟัะพะฒะตัะบะฐ: Payment.status == 'success'
- Trip ัะพะทะดะฐะตััั ัะพะปัะบะพ ะฟะพัะปะต ััะฟะตัะฝะพะณะพ ะฟะปะฐัะตะถะฐ

ะะพะด:
  from payment.models import Payment
  successful_payment = Payment.objects.filter(
      request_rent=instance, 
      status='success'
  ).exists()
  
  if successful_payment and not Trip.objects.filter(...).exists():
      Trip.objects.create(...)

ะกะขะะขะฃะก: โ ะะกะะะะะะะ
ะะะะขะะงะะะกะขะฌ: ๐ด ะะซะกะะะะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 14.1: ะัะพะฝะธัะพะฒะฐะฝะธะต ะฑะตะท ะพะฟะปะฐัั ะฝะต ะฟะพะฟะฐะดะฐะตั ะฒ "ะขะตะบััะธะต"
--------------------------------------------------------------------------------

ะจะะ 1: ะกะพะทะดะฐัั ะทะฐัะฒะบั ะฝะฐ ะฐัะตะฝะดั (Renter)

POST /chat/request_rents/
Authorization: Bearer <renter_token>

Body:
{
  "vehicle_type": "auto",
  "vehicle_id": 1,
  "start_date": "2025-12-15",
  "end_date": "2025-12-20",
  "start_time": "10:00",
  "end_time": "18:00",
  "delivery": false
}

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (201):
{
  "id": 123,
  "status": "unknown",
  "vehicle_type": "auto",
  "vehicle_id": 1,
  "total_cost": "5000.00",
  "amount": "1000.00"
}

--------------------------------------------------------------------------------

ะจะะ 2: ะัะธะฝััั ะทะฐัะฒะบั (Owner/Lessor)

PATCH /chat/request_rents/123/
Authorization: Bearer <owner_token>

Body:
{
  "status": "accept"
}

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "id": 123,
  "status": "accept",
  "payment_id": 456
}

--------------------------------------------------------------------------------

ะจะะ 3: ะัะพะฒะตัะธัั ัะพะทะดะฐะฝะธะต ะฟะปะฐัะตะถะฐ

GET /payment/payments/?request_rent=123
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 456,
      "request_rent": 123,
      "status": "pending",  // [!] ะะะะะ: ััะฐััั pending
      "amount": "1000.00"
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 4: ะัะพะฒะตัะธัั ััะพ Trip ะะ ัะพะทะดะฐะฝ (ะฟะพะบะฐ ะฟะปะฐัะตะถ pending)

GET /chat/trips/?status=current
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": []  // [โ] ะัััะพ! Trip ะฝะต ัะพะทะดะฐะฝ ะฑะตะท ััะฟะตัะฝะพะน ะพะฟะปะฐัั
}

--------------------------------------------------------------------------------

ะจะะ 5: ะะฟะปะฐัะธัั (ะธะผะธัะฐัะธั ัะตัะตะท Django shell ะฝะฐ ัะตัะฒะตัะต)

docker exec -it django python manage.py shell

from payment.models import Payment
from django.utils.timezone import now

payment = Payment.objects.get(id=456)
payment.status = 'success'
payment.paid_at = now()
payment.save()
exit()

--------------------------------------------------------------------------------

ะจะะ 6: ะัะพะฒะตัะธัั ััะพ Trip ะกะะะะะ (ะฟะพัะปะต ััะฟะตัะฝะพะน ะพะฟะปะฐัั)

GET /chat/trips/?status=current
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 789,
      "status": "current",  // [โ] ะขะตะฟะตัั Trip ัะพะทะดะฐะฝ!
      "start_date": "2025-12-15",
      "end_date": "2025-12-20",
      "total_cost": "5000.00",
      "payment_id": 456
    }
  ]
}

ะะะะขะะะะ ะะะะะะะ:
โ Trip ัะพะทะดะฐะฝ ะฟัะธ status='pending'
โ Trip ะฝะต ัะพะทะดะฐะฝ ะฟะพัะปะต status='success'

[โ] ะะะะฃะะฌะขะะข: Trip ัะพะทะดะฐะตััั ัะพะปัะบะพ ะฟะพัะปะต ััะฟะตัะฝะพะน ะพะฟะปะฐัั


================================================================================
  ะะะ #13: ะะะะะะข ะะ ะะะะะข ะะะะะะจะะขะฌ/ะะขะะะะะขะฌ ะะะะะะะฃ (ะะะะะะะะะ)
================================================================================

ะะะะกะะะะ:
ะะปะธะตะฝั ะฝะต ะผะพะณ ะพัะผะตะฝััั ะธะปะธ ะทะฐะฒะตััะฐัั ัะฒะพะธ ะฟะพะตะทะดะบะธ.

ะะกะะะะะะะะะ:
1. โ ะะพะฑะฐะฒะปะตะฝ endpoint ะดะปั ะะขะะะะซ ะฟะพะตะทะดะบะธ ะบะปะธะตะฝัะพะผ
   - ะคะฐะนะป: chat/views.py
   - URL: /chat/trips/{id}/cancel-by-client/
   - ะะตัะพะด: POST
   - ะกะพะทะดะฐะตััั IssueSupport ะธ MessageSupport
   - ะะพะทะฒัะฐั ััะตะดััะฒ (ะตัะปะธ >48 ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ)

2. โ Endpoint ะดะปั ะะะะะะจะะะะฏ ะฟะพะตะทะดะบะธ (finish-by-client) ะฃะะะะะ
   - ะัะธัะธะฝะฐ: ะะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะต ะฐัะตะฝะดะฐัะพั ะผะพะถะตั ัะพะปัะบะพ ะะขะะะะฏะขะฌ ะฟะพะตะทะดะบะธ
   - ะะฐะฒะตััะตะฝะธะต ะดะพัััะฟะฝะพ ัะพะปัะบะพ ะฐัะตะฝะดะพะดะฐัะตะปั

3. โ ะะฒัะพัะพะพะฑัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบั ะฟัะธ ะพัะผะตะฝะต
   - ะกะพะทะดะฐะตััั ัะตะบััะพะฒะพะต ัะพะพะฑัะตะฝะธะต ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะฒะพะทะฒัะฐัะต

4. โ ะะฝัะตะณัะฐัะธั ั ะฒะพะทะฒัะฐัะพะผ ะฟะปะฐัะตะถะตะน
   - ะัะธ ะพัะผะตะฝะต ะทะฐ 48+ ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ - ะฟะพะปะฝัะน ะฒะพะทะฒัะฐั ัะตัะตะท Tinkoff API
   - ะะพะทะฒัะฐั ะฑะพะฝััะฝัั ััะฑะปะตะน
   - ะะพะทะฒัะฐั ะฟัะพะผะพะบะพะดะฐ
   - ะะพะทะฒัะฐั ะดะฐั ะดะพัััะฟะฝะพััะธ ััะฐะฝัะฟะพััะฐ

ะกะขะะขะฃะก: โ ะงะะกะขะะงะะ ะะกะะะะะะะะ (ะพัะผะตะฝะฐ ัะฐะฑะพัะฐะตั, ะทะฐะฒะตััะตะฝะธะต ัะดะฐะปะตะฝะพ)
ะะะะขะะงะะะกะขะฌ: ๐ ะกะะะะะฏะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 13.1: ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ ะบะปะธะตะฝัะพะผ
--------------------------------------------------------------------------------

ะจะะ 1: ะะพะปััะธัั ะฐะบัะธะฒะฝัั ะฟะพะตะทะดะบั

GET /chat/trips/?status=current
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 789,
      "status": "current",
      "organizer": 22,
      "vehicle_id": 1,
      "start_date": "2025-12-15",
      "end_date": "2025-12-20"
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 2: ะัะผะตะฝะธัั ะฟะพะตะทะดะบั (ะบะปะธะตะฝั)

POST /chat/trips/789/cancel-by-client/
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "detail": "ะะพะตะทะดะบะฐ ะพัะผะตะฝะตะฝะฐ. ะกะพะทะดะฐะฝะพ ะพะฑัะฐัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบั."
}

--------------------------------------------------------------------------------

ะจะะ 3: ะัะพะฒะตัะธัั ััะฐััั ะฟะพะตะทะดะบะธ

GET /chat/trips/789/
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "id": 789,
  "status": "canceled",  // [โ] ะกัะฐััั ะธะทะผะตะฝะตะฝ!
  "organizer": 22
}

--------------------------------------------------------------------------------

ะจะะ 4: ะัะพะฒะตัะธัั ัะพะทะดะฐะฝะธะต ะพะฑัะฐัะตะฝะธั ะฒ ัะตัะฟะพะดะดะตัะถะบั

GET /chat/issues_support/
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 10,
      "topic": {
        "name": "ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ"  // [โ] ะะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะฝะพ!
      },
      "description": "ะัะผะตะฝะตะฝะฐ ะฟะพะตะทะดะบะฐ #789 ั ััะฐะฝัะฟะพััะพะผ ...",
      "created_at": "2025-11-04T10:30:00Z"
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 5: ะัะพะฒะตัะธัั ัะพะพะฑัะตะฝะธะต ะฒ ัะฐัะต ัะตัะฟะพะดะดะตัะถะบะธ

GET /chat/support_messages/?chat=<chat_id>
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "content": "๐ซ ะะพะตะทะดะบะฐ #789 ะพัะผะตะฝะตะฝะฐ\n\nะขัะฐะฝัะฟะพัั: ...\n๐ณ ะะฝัะพัะผะฐัะธั ะพ ะฟะปะฐัะตะถะต:\nโ ะะพะทะฒัะฐั ััะตะดััะฒ: ... ััะฑ.",
      "sender": 22
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 6: ะัะพะฒะตัะธัั ะฒะพะทะฒัะฐั ะฟะปะฐัะตะถะฐ (ะตัะปะธ ะทะฐ 48+ ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ)

GET /payment/payments/456/
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "id": 456,
  "status": "canceled",  // [โ] ะะปะฐัะตะถ ะพัะผะตะฝะตะฝ!
  "amount": "1000.00"
}

ะะะะขะะะะ ะะะะะะะ:
โ ะะพะตะทะดะบะฐ ะฝะต ะพัะผะตะฝะธะปะฐัั
โ ะะต ัะพะทะดะฐะฝะพ ะพะฑัะฐัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบั
โ ะะต ัะพะทะดะฐะฝะพ ัะพะพะฑัะตะฝะธะต ะฒ ัะฐัะต ัะตัะฟะพะดะดะตัะถะบะธ
โ ะะต ะฒะพะทะฒัะฐัะตะฝั ััะตะดััะฒะฐ (ะฟัะธ ะพัะผะตะฝะต >48ั)

[โ] ะะะะฃะะฌะขะะข: ะะปะธะตะฝั ะผะพะถะตั ะพัะผะตะฝะธัั ะฟะพะตะทะดะบั, ัะพะทะดะฐะตััั ะพะฑัะฐัะตะฝะธะต ะธ ัะพะพะฑัะตะฝะธะต,
                ะฒะพะทะฒัะฐัะฐัััั ััะตะดััะฒะฐ ะธ ะฑะพะฝััั


================================================================================
          ะะะ #2: ะกะขะะขะฃะก CANCELED ะะะะฏะะขะกะฏ ะะ CURRENT
================================================================================

ะะะะกะะะะ:
ะกะพะพะฑัะฐะปะพัั, ััะพ ััะฐััั ะพัะผะตะฝะตะฝะฝัั ะธ ะพะฟะปะฐัะตะฝะฝัั ะฟะพะตะทะดะพะบ ัะตัะตะท ะฒัะตะผั ะผะตะฝัะตััั 
ั canceled ะพะฑัะฐัะฝะพ ะฝะฐ current.

ะะะะฃะะฌะขะะข ะะะะะะะะ:
ะะะ ะะ ะะะะขะะะะะะะ โ ะบะพะด ัะฐะฑะพัะฐะตั ะฟัะฐะฒะธะปัะฝะพ. ะกะธะณะฝะฐะป ะฒ payment/signals.py 
ัะธะปััััะตั ัะพะปัะบะพ ะฟะพะตะทะดะบะธ ัะพ ััะฐัััะพะผ started, ะฟะพััะพะผั ะพัะผะตะฝะตะฝะฝัะต ะฟะพะตะทะดะบะธ 
ะฝะต ะทะฐััะฐะณะธะฒะฐัััั.

ะกะขะะขะฃะก: โ ะะ ะะะะขะะะะะะะ (ัะฐะฑะพัะฐะตั ะฟัะฐะฒะธะปัะฝะพ)
ะะะะขะะงะะะกะขะฌ: ๐ข ะะะะะะะะะ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 2.1: ะัะพะฒะตัะบะฐ ััะฐะฑะธะปัะฝะพััะธ ััะฐัััะฐ canceled
--------------------------------------------------------------------------------

ะะะะะฃะกะะะะะ: ะะผะตัั ะพะฟะปะฐัะตะฝะฝัั ะฟะพะตะทะดะบั (Trip ัะพ ััะฐัััะพะผ current)

ะจะฐะณ 1: ะะฒัะพัะธะทะพะฒะฐัััั ะบะฐะบ ะฐัะตะฝะดะฐัะพั

{
  "email": "mariavoronuk122@gmail.com",
  "password": "12345678"
}

ะจะฐะณ 2: ะะพะปััะธัั ัะฟะธัะพะบ ะฟะพะตะทะดะพะบ
- ะญะฝะดะฟะพะธะฝั: GET /chat/trips/
- ะะฐะนัะธ ะฟะพะตะทะดะบั ัะพ ััะฐัััะพะผ current
- ะกะพััะฐะฝะธัั id ะฟะพะตะทะดะบะธ

ะจะฐะณ 3: ะัะผะตะฝะธัั ะฟะพะตะทะดะบั
- ะญะฝะดะฟะพะธะฝั: POST /chat/trips/{trip_id}/cancel-by-client/
- Request body: {}

ะจะฐะณ 4: ะัะพะฒะตัะธัั ััะฐััั ััะฐะทั ะฟะพัะปะต ะพัะผะตะฝั
- ะญะฝะดะฟะพะธะฝั: GET /chat/trips/{trip_id}/
- ะัะพะฒะตัะธัั ะฟะพะปะต status: ะดะพะปะถะฝะพ ะฑััั "canceled"

ะจะฐะณ 5: ะะพะดะพะถะดะฐัั 10 ะผะธะฝัั

ะจะฐะณ 6: ะัะพะฒะตัะธัั ััะฐััั ะฟะพะฒัะพัะฝะพ
- ะญะฝะดะฟะพะธะฝั: GET /chat/trips/{trip_id}/
- ะัะพะฒะตัะธัั ะฟะพะปะต status

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- โ ะกัะฐััั ะพััะฐะตััั "canceled" (ะะ ะผะตะฝัะตััั ะฝะฐ current)

ะจะฐะณ 7: ะัะพะฒะตัะธัั ัะธะปััั ะฟะพ ััะฐัััั
- ะญะฝะดะฟะพะธะฝั: GET /chat/trips/?status=canceled
  โ ะัะผะตะฝะตะฝะฝะฐั ะฟะพะตะทะดะบะฐ ะดะพะปะถะฝะฐ ะฑััั ะฒ ัะฟะธัะบะต

- ะญะฝะดะฟะพะธะฝั: GET /chat/trips/?status=current
  โ ะัะผะตะฝะตะฝะฝะพะน ะฟะพะตะทะดะบะธ ะะ ะดะพะปะถะฝะพ ะฑััั ะฒ ัะฟะธัะบะต

ะะะะขะะะะ ะะะะะะะ:
โ ะกัะฐััั ะธะทะผะตะฝะธะปัั ั canceled ะฝะฐ current
โ ะะพะตะทะดะบะฐ ะธััะตะทะปะฐ ะธะท ัะธะปัััะฐ ?status=canceled
โ ะะพะตะทะดะบะฐ ะฟะพัะฒะธะปะฐัั ะฒ ัะธะปัััะต ?status=current


================================================================================
      ะะะ #3: ะกะงะะขะงะะ ะะะะะะงะะขะะะะซะฅ ะะะ ะกะะะะฉะะะะฏ
================================================================================

ะะะะกะะะะ:
ะัะธ ะพัะผะตะฝะต ะฟะพะตะทะดะบะธ ัะพะทะดะฐะฒะฐะปะพัั ะพะฑัะฐัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบั, ััะตััะธะบ 
ะฝะตะฟัะพัะธัะฐะฝะฝัั ัะฒะตะปะธัะธะฒะฐะปัั, ะฝะพ ัะฐะผะพะณะพ ะกะะะะฉะะะะฏ ะฒ ัะฐัะต ัะตัะฟะพะดะดะตัะถะบะธ ะฝะต ะฑัะปะพ.

ะะะะงะะะ:
ะะตัะพะด cancel_by_client ัะพะทะดะฐะฒะฐะป ัะพะปัะบะพ IssueSupport (ะพะฑัะฐัะตะฝะธะต), 
ะฝะพ ะฝะต ัะพะทะดะฐะฒะฐะป MessageSupport (ัะพะพะฑัะตะฝะธะต).

ะะกะะะะะะะะะ:
- ะคะฐะนะป: chat/views.py (ะผะตัะพะด cancel_by_client)
- ะะพะฑะฐะฒะปะตะฝะพ ัะพะทะดะฐะฝะธะต ัะตะบััะพะฒะพะณะพ ัะพะพะฑัะตะฝะธั ะฒ MessageSupport
- ะกะพะพะฑัะตะฝะธะต ัะพะดะตัะถะธั ะธะฝัะพัะผะฐัะธั ะพ ะฟะปะฐัะตะถะต ะธ ะฒะพะทะฒัะฐัะต ััะตะดััะฒ

ะกะขะะขะฃะก: โ ะะกะะะะะะะ
ะะะะขะะงะะะกะขะฌ: ๐ ะกะะะะะฏะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 3.1: ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ ะธ ะฟัะพะฒะตัะบะฐ ัะพะพะฑัะตะฝะธั
--------------------------------------------------------------------------------

ะะะะะฃะกะะะะะ:
- ะกะพะทะดะฐัั ะธ ะพะฟะปะฐัะธัั ะฟะพะตะทะดะบั (Trip ัะพ ััะฐัััะพะผ current)
- ะกะพััะฐะฝะธัั trip_id

ะจะฐะณ 1: ะะพะปััะธัั ััะตััะธะบ ะะ ะพัะผะตะฝั (ะพั ะปะธัะฐ ะฐะดะผะธะฝะฐ/ะผะตะฝะตะดะถะตัะฐ)
- ะะฒัะพัะธะทะพะฒะฐัััั ะบะฐะบ ะฐะดะผะธะฝ:

{
  "email": "admin@admin.com",
  "password": "admin123"
}

- ะญะฝะดะฟะพะธะฝั: GET /chat/count_messages/
- ะกะพััะฐะฝะธัั ะทะฝะฐัะตะฝะธะต unread_messages

ะจะฐะณ 2: ะะฒัะพัะธะทะพะฒะฐัััั ะบะฐะบ ะฐัะตะฝะดะฐัะพั

{
  "email": "mariavoronuk122@gmail.com",
  "password": "12345678"
}

ะจะฐะณ 3: ะัะผะตะฝะธัั ะฟะพะตะทะดะบั
- ะญะฝะดะฟะพะธะฝั: POST /chat/trips/{trip_id}/cancel-by-client/
- Request body: {}

ะะะะะะะะซะ ะะขะะะข:

{
  "detail": "ะะพะตะทะดะบะฐ ะพัะผะตะฝะตะฝะฐ. ะกะพะทะดะฐะฝะพ ะพะฑัะฐัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบั."
}

ะจะฐะณ 4: ะะพะปััะธัั ัะฟะธัะพะบ ัะฐัะพะฒ ัะตัะฟะพะดะดะตัะถะบะธ
- ะญะฝะดะฟะพะธะฝั: GET /chat/support_chats/

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:

{
  "results": [
    {
      "id": 1,
      "creator": 22,
      "role": "renter",
      "last_message": {
        "content": "๐ซ ะะพะตะทะดะบะฐ #... ะพัะผะตะฝะตะฝะฐ\n\n..."
      },
      "unread_messages_count": 1
    }
  ]
}

- โ ะััั ะฟะพะปะต last_message ั ัะพะดะตัะถะธะผัะผ
- โ unread_messages_count > 0

ะจะฐะณ 5: ะะพะปััะธัั ID ัะฐัะฐ ัะตัะฟะพะดะดะตัะถะบะธ ะธะท ะฟัะตะดัะดััะตะณะพ ะพัะฒะตัะฐ (ะฝะฐะฟัะธะผะตั, "id": 1)

ะจะฐะณ 6: ะะพะปััะธัั ัะพะพะฑัะตะฝะธั ะธะท ัะฐัะฐ ัะตัะฟะพะดะดะตัะถะบะธ
- ะญะฝะดะฟะพะธะฝั: GET /chat/support_messages/?chat=1

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:

{
  "count": 1,
  "results": [
    {
      "id": 75,
      "chat": 1,
      "sender": 22,
      "sender_name": "mas",
      "content": "๐ซ ะะพะตะทะดะบะฐ #19 ะพัะผะตะฝะตะฝะฐ

ะขัะฐะฝัะฟะพัั: Komatsu PC35MR-3
ะะตัะธะพะด: 2025-10-28 โ 2025-11-28
ะกัะพะธะผะพััั ะฐัะตะฝะดั: 258180.36 ััะฑ.

๐ณ ะะฝัะพัะผะฐัะธั ะพ ะฟะปะฐัะตะถะต:
โข ะะพะผะธััะธั ะฟะปะฐััะพัะผั: 12969.02 ััะฑ.

โ ะะพะทะฒัะฐั ััะตะดััะฒ: 12969.02 ััะฑ.
ะกัะตะดััะฒะฐ ะฑัะดัั ะฒะพะทะฒัะฐัะตะฝั ะฒ ัะตัะตะฝะธะต 5-10 ัะฐะฑะพัะธั ะดะฝะตะน.",
      "timestamp": "2025-11-02T...",
      "file": null,
      "deleted": false
    }
  ]
}

ะจะฐะณ 7: ะัะพะฒะตัะธัั ัะพะดะตัะถะธะผะพะต ัะพะพะฑัะตะฝะธั

ะ ะฟะพะปะต content ะดะพะปะถะฝะพ ะฑััั:
- โ ะญะผะพะดะทะธ ๐ซ
- โ ะะพะผะตั ะฟะพะตะทะดะบะธ
- โ ะะฐะทะฒะฐะฝะธะต ััะฐะฝัะฟะพััะฐ
- โ ะะตัะธะพะด ะฐัะตะฝะดั
- โ ะกัะพะธะผะพััั ะฐัะตะฝะดั
- โ ะะะคะะะะะฆะะฏ ะ ะะะะขะะะ (ะบะพะผะธััะธั, ะดะตะฟะพะทะธั, ะดะพััะฐะฒะบะฐ)
- โ ะะะคะะะะะฆะะฏ ะ ะะะะะะะขะ (ะฑัะดะตั ะปะธ ะฒะพะทะฒัะฐั, ััะผะผะฐ)

ะจะฐะณ 8: ะัะพะฒะตัะธัั ััะตััะธะบ ะะะกะะ ะพัะผะตะฝั (ะพั ะปะธัะฐ ะฐะดะผะธะฝะฐ)
- ะะฒัะพัะธะทะพะฒะฐัััั ะบะฐะบ ะฐะดะผะธะฝ
- ะญะฝะดะฟะพะธะฝั: GET /chat/count_messages/
- โ ะกัะตััะธะบ ะดะพะปะถะตะฝ ัะฒะตะปะธัะธัััั ะฝะฐ 1

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 3.2: ะัะพะฒะตัะบะฐ ัะฐะทะปะธัะฝัั ััะตะฝะฐัะธะตะฒ ะฒะพะทะฒัะฐัะฐ
--------------------------------------------------------------------------------

ะกะฆะะะะะะ A: ะัะผะตะฝะฐ ะฑะพะปะตะต 48 ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ

ะะะะะะะะซะ ะขะะะกะข ะ ะกะะะะฉะะะะ:

โ ะะพะทะฒัะฐั ััะตะดััะฒ: 12969.02 ััะฑ.
ะกัะตะดััะฒะฐ ะฑัะดัั ะฒะพะทะฒัะฐัะตะฝั ะฒ ัะตัะตะฝะธะต 5-10 ัะฐะฑะพัะธั ะดะฝะตะน.

ะกะฆะะะะะะ B: ะัะผะตะฝะฐ ะผะตะฝะตะต 48 ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ

ะะะะะะะะซะ ะขะะะกะข:

โ๏ธ ะัะผะตะฝะฐ ะผะตะฝะตะต ัะตะผ ะทะฐ 48 ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ โ ะฒะพะทะฒัะฐั ะฝะต ะฟัะพะธะทะฒะพะดะธััั.

ะกะฆะะะะะะ C: ะัะผะตะฝะฐ ะฝะตะพะฟะปะฐัะตะฝะฝะพะน ะฟะพะตะทะดะบะธ

ะะะะะะะะซะ ะขะะะกะข:

โน๏ธ ะะปะฐัะตะถ ะฝะต ะฑัะป ัะพะฒะตััะตะฝ.

ะะะะขะะะะ ะะะะะะะ:
โ ะกะพะพะฑัะตะฝะธะต ะฒ ัะฐัะต ัะตัะฟะพะดะดะตัะถะบะธ ะพััััััะฒัะตั
โ ะ ัะพะพะฑัะตะฝะธะธ ะฝะตั ะธะฝัะพัะผะฐัะธะธ ะพ ะฟะปะฐัะตะถะต
โ ะ ัะพะพะฑัะตะฝะธะธ ะฝะตั ะธะฝัะพัะผะฐัะธะธ ะพ ะฒะพะทะฒัะฐัะต
โ ะกัะตััะธะบ ะฝะต ัะฒะตะปะธัะธะปัั ะดะปั ะฐะดะผะธะฝะฐ/ะผะตะฝะตะดะถะตัะฐ


================================================================================
        ะะะ #8: ะะ ะะขะะะะะะะฎะขะกะฏ ะฃะะะะะะะะะะฏ ะ ะกะะะะฉะะะะ
================================================================================

ะะะะกะะะะ:
ะัะธ ะพัะฟัะฐะฒะบะต ัะพะพะฑัะตะฝะธั ะฒ ัะฐั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปะธ ะฝะต ะฟะพะปััะฐะปะธ ัะฒะตะดะพะผะปะตะฝะธั.

ะะะะงะะะ:
ะััััััะฒะพะฒะฐะปะฐ ะปะพะณะธะบะฐ ัะพะทะดะฐะฝะธั ัะฒะตะดะพะผะปะตะฝะธะน ะดะปั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปะตะน.

ะะกะะะะะะะะะ:
- ะคะฐะนะป: chat/consumers.py (ัััะพะบะธ 247-283)
- ะะตัะพะด notify_offline_users ัะพะทะดะฐะตั ัะฒะตะดะพะผะปะตะฝะธั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฝะต ะฒ ัะตัะธ
- ะะตัะพะด create_notifications_for_users:
  * ะกะพะทะดะฐะตั Notification ะดะปั ะบะฐะถะดะพะณะพ ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั
  * ะัะทัะฒะฐะตั notification.send_notification() ะบะพัะพััะน ะพัะฟัะฐะฒะปัะตั:
    - Email ัะฒะตะดะพะผะปะตะฝะธะต (ะตัะปะธ ะฒะบะปััะตะฝะพ)
    - FCM push-ัะฒะตะดะพะผะปะตะฝะธะต (ะตัะปะธ ะฒะบะปััะตะฝะพ)
- ะคะฐะนะป: notification/models.py (ัััะพะบะธ 82-186) - ััะฝะบัะธั send_web_push_notification

ะกะขะะขะฃะก: โ ะะกะะะะะะะ
ะะะะขะะงะะะกะขะฌ: ๐ ะกะะะะะฏะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 8.1: ะัะพะฒะตัะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน ะดะปั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั
--------------------------------------------------------------------------------

ะะะะะะะะะขะะะฌะะะฏ ะะะะะะขะะะะ:
  1. ะะพะปัะทะพะฒะฐัะตะปั ะ (renter) - ะพะฝะปะฐะนะฝ ะฒ ัะฐัะต
  2. ะะพะปัะทะพะฒะฐัะตะปั ะ (owner) - ะพััะปะฐะนะฝ

--------------------------------------------------------------------------------

ะจะะ 1: ะะพะดะบะปััะธัััั ะบ WebSocket ัะฐัะฐ (ะะพะปัะทะพะฒะฐัะตะปั ะ)

WebSocket URL:
wss://rentalguru.ru/ws/chat/123/?token=<renter_access_token>&lang=ru

ะะพัะปะต ะฟะพะดะบะปััะตะฝะธั ะฟะพะปััะธัะต:
{
  "type": "first_message",
  "messages": [...]
}

--------------------------------------------------------------------------------

ะจะะ 2: ะัะฟัะฐะฒะธัั ัะพะพะฑัะตะฝะธะต ัะตัะตะท WebSocket (ะะพะปัะทะพะฒะฐัะตะปั ะ)

WebSocket Send:
{
  "type": "send_message",
  "message": "ะัะธะฒะตั! ะะพะณะดะฐ ะผะพะณั ะทะฐะฑัะฐัั ะผะฐัะธะฝั?"
}

ะะพะปััะธัะต:
{
  "type": "new",
  "message": {
    "id": 999,
    "content": "ะัะธะฒะตั! ะะพะณะดะฐ ะผะพะณั ะทะฐะฑัะฐัั ะผะฐัะธะฝั?",
    "sender": {
      "id": 22,
      "first_name": "ะะฒะฐะฝ"
    },
    "timestamp": "2025-11-04T10:30:00Z"
  }
}

--------------------------------------------------------------------------------

ะจะะ 3: ะัะพะฒะตัะธัั ัะพะทะดะฐะฝะธะต ัะฒะตะดะพะผะปะตะฝะธั ะดะปั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั ะ

GET /notification/notifications/
Authorization: Bearer <owner_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 555,
      "content": "ะะพะปััะตะฝะพ ะฝะพะฒะพะต ัะพะพะฑัะตะฝะธะต",  // [โ] ะฃะฒะตะดะพะผะปะตะฝะธะต ัะพะทะดะฐะฝะพ!
      "read_it": false,
      "created_at": "2025-11-04T10:30:00Z"
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 4: ะัะพะฒะตัะธัั FCM ัะพะบะตะฝ ะฟะพะปัะทะพะฒะฐัะตะปั ะ

GET /notification/fcm-tokens/
Authorization: Bearer <owner_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "results": [
    {
      "id": 10,
      "token": "fKl9JH8sT2e...",  // FCM ัะพะบะตะฝ
      "last_used_at": "2025-11-04T09:00:00Z"
    }
  ]
}

--------------------------------------------------------------------------------

ะจะะ 5: ะัะพะฒะตัะธัั ะฝะฐัััะพะนะบะธ push-ัะฒะตะดะพะผะปะตะฝะธะน

GET /app/users/me/
Authorization: Bearer <owner_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "id": 23,
  "email_notification": true,
  "push_notification": true  // [โ] Push ะฒะบะปััะตะฝั!
}

ะะะะขะะะะ ะะะะะะะ:
โ ะฃะฒะตะดะพะผะปะตะฝะธะต ะฝะต ัะพะทะดะฐะฝะพ ะดะปั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั
โ Push-ัะฒะตะดะพะผะปะตะฝะธะต ะฝะต ะพัะฟัะฐะฒะปะตะฝะพ (ะฟัะธ push_notification=true)
โ Email ะฝะต ะพัะฟัะฐะฒะปะตะฝ (ะฟัะธ email_notification=true)

[โ] ะะะะฃะะฌะขะะข: ะัะธ ะพัะฟัะฐะฒะบะต ัะพะพะฑัะตะฝะธั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพะปััะฐะตั:
  - ะฃะฒะตะดะพะผะปะตะฝะธะต ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั
  - Push-ัะฒะตะดะพะผะปะตะฝะธะต ะฝะฐ ััััะพะนััะฒะพ (ะตัะปะธ push_notification=true)
  - Email ัะฒะตะดะพะผะปะตะฝะธะต (ะตัะปะธ email_notification=true)


================================================================================
              ะะะ #11: ะะะฏะะขะ ะคะะะะงะะะะ ะะจะะะะ
================================================================================

ะะะะกะะะะ:
ะะตะฟัะฐะฒะธะปัะฝัะน ัะฐััะตั ัะพัะปัะธ ััะฐะฝัะธะทั.

ะะะะงะะะ:
ะัะธะฑะบะฐ ะฒ ัะพัะผัะปะต ัะฐััะตัะฐ ัะพัะปัะธ.

ะะกะะะะะะะะะ:
- ะคะฐะนะป: franchise/models.py (ัััะพะบะธ 171-177)
- ะะตัะพะด get_royalty ะฟัะฐะฒะธะปัะฝะพ ัะฐัััะธััะฒะฐะตั ัะพัะปัะธ ััะฐะฝัะธะทั

ะคะพัะผัะปะฐ:
  def get_royalty(self, period='all', is_previous=False):
      """ 
      ะะพัะปัะธ - ะฟัะพัะตะฝั ะพั ะฒััััะบะธ, ะบะพัะพััะน ะฟะปะฐัะธั ััะฐะฝัะฐะนะทะธ
      ะคะพัะผัะปะฐ: revenue * commission / 100
      """
      revenue = self.get_total_revenue(period, is_previous)
      return (revenue * Decimal(self.commission)) / Decimal(100)

ะัะธะผะตั:
  - ะััััะบะฐ ััะฐะฝัะธะทั: 100,000โฝ
  - ะะพะผะธััะธั ััะฐะฝัะธะทั: 3%
  - ะะพัะปัะธ = 100,000 * 3 / 100 = 3,000โฝ

ะกะขะะขะฃะก: โ ะะกะะะะะะะ
ะะะะขะะงะะะกะขะฌ: ๐ก ะะะะะะฏ

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก 11.1: ะัะพะฒะตัะบะฐ ัะพัะปัะธ ััะฐะฝัะธะทั
--------------------------------------------------------------------------------

ะจะะ 1: ะะพะปััะธัั ััะฐัะธััะธะบั ััะฐะฝัะธะทั

GET /franchise/franchises/1/statistics/?period=month
Authorization: Bearer <franchise_director_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "total_vehicles": 50,
  "total_revenue": "100000.00",      // ะะฑัะฐั ะฒััััะบะฐ
  "royalty": "3000.00",               // [โ] ะะพัะปัะธ = 100000 * 3% = 3000โฝ
  "total_margin": "97000.00",         // ะะฐัะถะฐ = ะฒััััะบะฐ - ัะพัะปัะธ
  "total_orders": 120,
  "total_completed_orders": 100,
  "total_cancelled_orders": 5,
  "active_users_count": 25,
  "change_revenue": 15.5,
  "change_margin": 14.2,
  "change_royalty": 15.5
}

--------------------------------------------------------------------------------

ะจะะ 2: ะัะพะฒะตัะธัั ัะฐััะตั ะดะปั ัะฐะทะฝัั ะฟะตัะธะพะดะพะฒ

GET /franchise/franchises/1/statistics/?period=day
GET /franchise/franchises/1/statistics/?period=week
GET /franchise/franchises/1/statistics/?period=month
GET /franchise/franchises/1/statistics/?period=quarter
GET /franchise/franchises/1/statistics/?period=year
GET /franchise/franchises/1/statistics/?period=all

ะะปั ะบะฐะถะดะพะณะพ ะฟะตัะธะพะดะฐ ะฟัะพะฒะตัััะต:
royalty = total_revenue * (commission / 100)

--------------------------------------------------------------------------------

ะจะะ 3: ะะทะผะตะฝะธัั ะบะพะผะธััะธั ััะฐะฝัะธะทั ะธ ะฟัะพะฒะตัะธัั ะฟะตัะตััะตั

PATCH /franchise/franchises/1/
Authorization: Bearer <admin_token>

Body:
{
  "commission": 5
}

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "id": 1,
  "commission": 5
}

--------------------------------------------------------------------------------

ะจะะ 4: ะัะพะฒะตัะธัั ะฝะพะฒัะน ัะฐััะตั ัะพัะปัะธ

GET /franchise/franchises/1/statistics/?period=month
Authorization: Bearer <franchise_director_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "total_revenue": "100000.00",
  "royalty": "5000.00",        // [โ] ะะพะฒะพะต ัะพัะปัะธ = 100000 * 5% = 5000โฝ
  "total_margin": "95000.00"   // ะะพะฒะฐั ะผะฐัะถะฐ = 100000 - 5000
}

--------------------------------------------------------------------------------

ะจะะ 5: ะัะพะฒะตัะธัั ัะพัะปัะธ ะดะปั ััะฐะฝัะธะทั ะฑะตะท ะฟะพะตะทะดะพะบ

GET /franchise/franchises/2/statistics/?period=month
Authorization: Bearer <franchise_director_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (200):
{
  "total_revenue": "0.00",
  "royalty": "0.00",           // [โ] ะะพัะปัะธ = 0 ะฟัะธ ะฝัะปะตะฒะพะน ะฒััััะบะต
  "total_margin": "0.00"
}

ะะะะขะะะะ ะะะะะะะ:
โ ะะพัะปัะธ ัะฐัััะธัะฐะฝะพ ะฝะตะฟัะฐะฒะธะปัะฝะพ
โ ะคะพัะผัะปะฐ ะฝะต ัะฐะฑะพัะฐะตั ะดะปั ะฒัะตั ะฟะตัะธะพะดะพะฒ
โ ะะทะผะตะฝะตะฝะธะต ะบะพะผะธััะธะธ ะฝะต ะฟะตัะตััะธััะฒะฐะตั ัะพัะปัะธ

[โ] ะะะะฃะะฌะขะะข: ะะพัะปัะธ ัะฐัััะธััะฒะฐะตััั ะบะพััะตะบัะฝะพ ะฟะพ ัะพัะผัะปะต: 
                revenue * commission / 100


================================================================================
                      ะฃะะะะะะะซะ ะคะฃะะะฆะะะะะ
================================================================================

ะฃะะะะะ ะญะะะะะะะข: POST /chat/trips/{id}/finish-by-client/

ะะะะงะะะ ะฃะะะะะะะฏ:
ะะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะต ะฐัะตะฝะดะฐัะพั ะผะพะถะตั ัะพะปัะบะพ ะะขะะะะฏะขะฌ ะพะฟะปะฐัะตะฝะฝัะต ะฟะพะตะทะดะบะธ, 
ะฝะพ ะฝะต ะทะฐะฒะตััะฐัั ะธั. ะะฐะฒะตััะตะฝะธะต ะฟะพะตะทะดะพะบ ะดะพัััะฟะฝะพ ัะพะปัะบะพ ะฐัะตะฝะดะพะดะฐัะตะปั.

ะคะะะ: chat/views.py
ะงะขะ ะฃะะะะะะ:
- ะะตัะพะด finish_by_client ะธะท TripViewSet
- Decorator @action(detail=True, methods=['post'], url_path='finish-by-client')

--------------------------------------------------------------------------------
ะขะะกะข-ะะะะก: ะัะพะฒะตัะบะฐ ะพััััััะฒะธั ัะฝะดะฟะพะธะฝัะฐ
--------------------------------------------------------------------------------

ะจะฐะณ 1: ะัะบัััั Swagger UI: https://rentalguru.ru/

ะจะฐะณ 2: ะะฐะนัะธ ัะฐะทะดะตะป /chat/trips/

ะจะฐะณ 3: ะัะพะฒะตัะธัั ัะฟะธัะพะบ ัะฝะดะฟะพะธะฝัะพะฒ ะดะปั Trip

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- โ ะััั: POST /chat/trips/{id}/cancel-by-client/
- โ ะะะข: POST /chat/trips/{id}/finish-by-client/ (ัะดะฐะปะตะฝ)

ะจะฐะณ 4: ะะพะฟััะบะฐ ะฒัะทะฒะฐัั ัะดะฐะปะตะฝะฝัะน ัะฝะดะฟะพะธะฝั ะฒัััะฝัั
- ะะตัะพะด: POST
- URL: https://rentalguru.ru/chat/trips/19/finish-by-client/

ะะะะะะะะซะ ะะะะฃะะฌะขะะข:
- ะกัะฐััั: 404 Not Found ะธะปะธ ะผะตัะพะด ะฝะต ัััะตััะฒัะตั


================================================================================
                      ะะขะะะะะะฏ ะขะะะะะฆะ ะะะะะ
================================================================================

โโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ  โ ะะฐะณ                                        โ ะกัะฐััั          โ ะัะธัะธัะฝะพััั  โ ะญะฝะดะฟะพะธะฝัั               โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 1  โ ะะพะด ะฝะต ะฟัะธัะพะดะธั ะฝะฐ ะฟะพััั                   โ โ ะะกะะะะะะะ     โ ๐ด ะััะพะบะฐั   โ POST /app/users/        โ
โ    โ                                            โ                 โ              โ POST /app/password-     โ
โ    โ                                            โ                 โ              โ      reset/             โ
โ    โ                                            โ                 โ              โ POST /app/telegram_     โ
โ    โ                                            โ                 โ              โ      send_code/         โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 14 โ ะัะพะฝะธัะพะฒะฐะฝะธะต ะฑะตะท ะพะฟะปะฐัั ะฒ "ะขะตะบััะธะต"        โ โ ะะกะะะะะะะ     โ ๐ด ะััะพะบะฐั   โ POST /chat/             โ
โ    โ                                            โ                 โ              โ      request_rents/     โ
โ    โ                                            โ                 โ              โ GET /chat/trips/        โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 13 โ ะะปะธะตะฝั ะฝะต ะผะพะถะตั ะพัะผะตะฝะธัั ะฟะพะตะทะดะบั           โ โ ะะกะะะะะะะ     โ ๐ ะกัะตะดะฝัั   โ POST /chat/trips/{id}/  โ
โ    โ (finish-by-client ัะดะฐะปะตะฝ)                  โ                 โ              โ      cancel-by-client/  โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 2  โ ะกัะฐััั canceledโcurrent                    โ โ ะะ ะะะ        โ ๐ข ะัะพะฒะตัะตะฝะพ โ GET /chat/trips/{id}/   โ
โ    โ                                            โ                 โ              โ POST /chat/trips/{id}/  โ
โ    โ                                            โ                 โ              โ      cancel-by-client/  โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 3  โ ะกัะตััะธะบ ะฑะตะท ัะพะพะฑัะตะฝะธั                      โ โ ะะกะะะะะะะ     โ ๐ ะกัะตะดะฝัั   โ POST /chat/trips/{id}/  โ
โ    โ                                            โ                 โ              โ      cancel-by-client/  โ
โ    โ                                            โ                 โ              โ GET /chat/support_      โ
โ    โ                                            โ                 โ              โ     messages/           โ
โ    โ                                            โ                 โ              โ GET /chat/count_        โ
โ    โ                                            โ                 โ              โ     messages/           โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 8  โ ะะต ะพัะพะฑัะฐะถะฐัััั ัะฒะตะดะพะผะปะตะฝะธั ะพ ัะพะพะฑัะตะฝะธะธ    โ โ ะะกะะะะะะะ     โ ๐ ะกัะตะดะฝัั   โ WebSocket /ws/chat/     โ
โ    โ                                            โ                 โ              โ GET /notification/      โ
โ    โ                                            โ                 โ              โ     notifications/      โ
โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ 11 โ ะะพัะปัะธ ััะฐะฝัะฐะนะทะธ ะพัะธะฑะบะฐ                    โ โ ะะกะะะะะะะ     โ ๐ก ะะธะทะบะฐั    โ GET /franchise/         โ
โ    โ                                            โ                 โ              โ     franchises/{id}/    โ
โ    โ                                            โ                 โ              โ     statistics/         โ
โโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโ


================================================================================
                    ะงะะะะะกะข ะะะฏ ะขะะกะขะะะะะฉะะะ
================================================================================

ะะะะะ ะะะงะะะะ ะขะะกะขะะะะะะะะฏ:
[ ] ะฃะฑะตะดะธัััั, ััะพ ะธัะฟะพะปัะทัะตััั ะฒะตััะธั v1.2.0
[ ] Swagger ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั https://rentalguru.ru/
[ ] ะััั ะดะพัััะฟ ะบ ัะตััะพะฒัะผ ััะตัะฝัะผ ะทะฐะฟะธััะผ
[ ] ะััั ะดะพัััะฟ ะบ ัะตััะพะฒะพะน ะฟะพััะต mvoronuk2@gmail.com

ะะะะขะะงะะกะะะ ะะะะ (ะะซะกะะะะฏ ะะะะะะะขะะขะะะกะขะฌ):
[ ] ะขะตัั-ะบะตะนั 1.1: ะะตะณะธัััะฐัะธั (ะฟะธััะผะพ ะฟัะธัะพะดะธั)
[ ] ะขะตัั-ะบะตะนั 1.2: ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะฟะฐัะพะปั (ะฟะธััะผะพ ะฟัะธัะพะดะธั)
[ ] ะขะตัั-ะบะตะนั 14.1: ะัะพะฝะธัะพะฒะฐะฝะธะต ะฑะตะท ะพะฟะปะฐัั ะฝะต ะฒ "ะขะตะบััะธะต"

ะะะะ ะกะะะะะะ ะะะะะะะขะะขะะะกะขะ:
[ ] ะขะตัั-ะบะตะนั 13.1: ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ ะบะปะธะตะฝัะพะผ
[ ] ะขะตัั-ะบะตะนั 2.1: ะกัะฐะฑะธะปัะฝะพััั ััะฐัััะฐ canceled
[ ] ะขะตัั-ะบะตะนั 3.1: ะกะพะพะฑัะตะฝะธะต ะฒ ัะตัะฟะพะดะดะตัะถะบะต ะฟัะธ ะพัะผะตะฝะต
[ ] ะขะตัั-ะบะตะนั 8.1: ะฃะฒะตะดะพะผะปะตะฝะธั ะดะปั ะพััะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปั

ะะะะ ะะะะะะ ะะะะะะะขะะขะะะกะขะ:
[ ] ะขะตัั-ะบะตะนั 11.1: ะะพัะปัะธ ััะฐะฝัะธะทั

ะฃะะะะะะะซะ ะคะฃะะะฆะะะะะ:
[ ] ะัะพะฒะตัะบะฐ ะพััััััะฒะธั finish-by-client ัะฝะดะฟะพะธะฝัะฐ

ะะะะะะะะขะะะฌะะซะ ะะะะะะะะ:
[ ] ะขะตัั-ะบะตะนั 1.3: ะะพะดัะฒะตัะถะดะตะฝะธะต email
[ ] ะขะตัั-ะบะตะนั 3.2: ะกัะตะฝะฐัะธะธ ะฒะพะทะฒัะฐัะฐ (A, B, C)


================================================================================
                         ะะะะะะะะขะะะฌะะซะ ะะะะะะะะ
================================================================================

ะะะะะะะะ ะะะะ ะะะกะขะฃะะ
--------------------------------------------------------------------------------

1. ะะพะฟััะบะฐ ะพัะผะตะฝะธัั ััะถัั ะฟะพะตะทะดะบั (ะดะพะปะถะฝะพ ะฑััั ะทะฐะฟัะตัะตะฝะพ)

POST /chat/trips/789/cancel-by-client/
Authorization: Bearer <ะดััะณะพะน_ะฟะพะปัะทะพะฒะฐัะตะปั_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (403):
{
  "detail": "ะขะพะปัะบะพ ะฐัะตะฝะดะฐัะพั ะผะพะถะตั ะพัะผะตะฝะธัั ัะฒะพั ะฟะพะตะทะดะบั."
}

--------------------------------------------------------------------------------

2. ะะพะฟััะบะฐ ะพัะผะตะฝะธัั ัะถะต ะทะฐะฒะตััะตะฝะฝัั ะฟะพะตะทะดะบั

POST /chat/trips/789/cancel-by-client/
Authorization: Bearer <renter_token>

ะะถะธะดะฐะตะผัะน ะพัะฒะตั (400):
{
  "detail": "ะะพะตะทะดะบะฐ ัะถะต ะทะฐะฒะตััะตะฝะฐ ะธะปะธ ะพัะผะตะฝะตะฝะฐ."
}

================================================================================

ะะะะะะะะ EDGE CASES
--------------------------------------------------------------------------------

Edge Case 1: ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ ะผะตะฝะตะต ัะตะผ ะทะฐ 48 ัะฐัะพะฒ ะดะพ ะฝะฐัะฐะปะฐ

# ะกะพะทะดะฐัั ะฟะพะตะทะดะบั ะฝะฐ ะทะฐะฒััะฐ
POST /chat/request_rents/
{
  "start_date": "2025-11-05",  // ะะฐะฒััะฐ
  "end_date": "2025-11-06"
}

# ะัะธะฝััั ะธ ะพะฟะปะฐัะธัั

# ะะพะฟััะฐัััั ะพัะผะตะฝะธัั
POST /chat/trips/{id}/cancel-by-client/

# ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:
# - ะกัะฐััั ะฟะปะฐัะตะถะฐ = canceled
# - ะะ ะฒะพะทะฒัะฐัะฐ ััะตะดััะฒ ัะตัะตะท Tinkoff ะะ ะฑัะดะตั (ะฟัะพัะปะพ <48 ัะฐัะพะฒ)
# - ะฃะฒะตะดะพะผะปะตะฝะธะต: "ะะพะตะทะดะบะฐ ะพัะผะตะฝะตะฝะฐ" (ะฑะตะท ัะฟะพะผะธะฝะฐะฝะธั ะฒะพะทะฒัะฐัะฐ)

--------------------------------------------------------------------------------

Edge Case 2: ะกะพะทะดะฐะฝะธะต Trip ะฟัะธ ะผะฝะพะถะตััะฒะตะฝะฝัั ะฟะปะฐัะตะถะฐั

# ะกะพะทะดะฐัั ะทะฐัะฒะบั
# ะะดะพะฑัะธัั ะทะฐัะฒะบั (ัะพะทะดะฐะตััั payment_1 ัะพ ััะฐัััะพะผ pending)
# ะะพะฟััะฐัััั ัะพะทะดะฐัั ะฒัะพัะพะน ะฟะปะฐัะตะถ ะดะปั ัะพะน ะถะต ะทะฐัะฒะบะธ
# ะะฟะปะฐัะธัั payment_1 (ััะฐััั = success)

# ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:
# - ะกะพะทะดะฐะตััั ัะพะปัะบะพ ะะะะ Trip
# - ะะพะฒัะพัะฝัะต ะฟะปะฐัะตะถะธ ะฝะต ัะพะทะดะฐัั ะดัะฑะปะธััััะธั Trip


================================================================================
                             ะะะะขะะะขะซ
================================================================================

ะัะธ ะพะฑะฝะฐััะถะตะฝะธะธ ะฟัะพะฑะปะตะผ:
- GitHub: @mashka818 (https://github.com/mashka818)
- Email: mariavoronuk122@gmail.com

ะะปั ะฟัะพะฒะตัะบะธ ะปะพะณะพะฒ ะฝะฐ ัะตัะฒะตัะต:
  - ะะพะณะธ Django: tail -f /app/logs/info.log
  - ะะพะณะธ Celery: docker logs celery
  - ะะพะณะธ Redis: redis-cli monitor

ะะฐัะฐ ะฟะพัะปะตะดะฝะตะณะพ ะพะฑะฝะพะฒะปะตะฝะธั: 04.11.2025


================================================================================
                        ะะะะะฆ ะะะะฃะะะะขะะฆะะ
================================================================================

